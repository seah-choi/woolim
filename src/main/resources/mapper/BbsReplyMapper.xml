<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/schema/mybatis-3-mapper.dtd">
<mapper namespace="org.fullstack4.woolim.mapper.BbsReplyMapper">
    <select id="list" resultType="org.fullstack4.woolim.domain.BbsReplyVO">
        SELECT reply_idx,member_id,reply_content,reply_reg_date
        FROM woo_bbs_reply
        WHERE bbs_idx = #{bbs_idx}
    </select>

    <insert id="regist">
        INSERT INTO woo_bbs_reply (member_id,reply_content,reply_reg_date)
        VALUES(#{member_id},#{reply_content},NOW())
    </insert>

    <update id="modify">
        UPDATE woo_bbs_reply SET reply_content=#{reply_content}, reply_modify_date = now()
    </update>

    <delete id="delete">
        DELETE FROM woo_bbs_reply WHERE reply_idx = #{reply_idx}
    </delete>

    <insert id="reply_cnt_update">
        INSERT INTO woo_bbs set bbs_reply_cnt = bbs_reply_cnt+1 where bbs_idx=#{bbs_idx}
    </insert>

</mapper>